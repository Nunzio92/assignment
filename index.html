<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00000094">
    <meta name="description" content="Author: Nunzio Zappulla, Vanilla javascript Responsive Carousel">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
    <link rel="preload" href="https://fonts.gstatic.com/s/materialicons/v94/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2" as="font" type="font/woff2" crossorigin>

    <link rel="stylesheet" type="text/css" href="assets/css/carousel.css">
    <link rel="stylesheet" type="text/css" href="assets/css/styles.css">
    <script type="module" src="src/carousel.js"></script>
    <script type="module" src="src/utility/utility.js"></script>
    <!-- importing js as module let to isolate portion of code (utility lib) enabling file import, strict mode as default, modules are deferred automatically-->
    <title>FunnyCarousel</title>
</head>
<body>
<div id="my-carousel" class="wrap"></div>
<div id="my-carousel-2" class="wrap"></div>

<script type="module">
    import { delay, generateXCardModel} from './src/utility/utility.js';
    import { Carousel } from './src/carousel.js';

    let options1 = {
        container: '#my-carousel',
        title: 'Fresh and just uploaded content',
        subtitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae commodi doloribus et excepturi perspiciatis quidem reprehenderit sequi totam, voluptate voluptates? Accusamus accusantium asperiores commodi consequuntur eveniet minus molestiae suscipit, voluptatem.',
        fetchCards: async (chunkSize) => {
            return await delay(2000).then(_ => {
                return generateXCardModel(chunkSize)
            })
        },
    }

    let options2 = {
        container: '#my-carousel-2',
        title: 'Fresh and just uploaded content',
        subtitle: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae commodi doloribus et excepturi perspiciatis quidem reprehenderit sequi totam, voluptate voluptates? Accusamus accusantium asperiores commodi consequuntur eveniet minus molestiae suscipit, voluptatem.',
        fetchCards: async (chunkSize) => {
            return await delay(1000).then(_ => {
                return generateXCardModel(chunkSize)
            })
        },
        hoverEffect: true,
    }

    new Carousel(options1);
    new Carousel(options2);


    // for bigger DOM is worth using dynamic import at onload event => (better seo, better First Contentful Paint)
    // window.onload = () => {
    //     import('./src/carousel.js').then((Module) => {
    //         new Module.Carousel(options1);
    //         new Module.Carousel(options2);
    //     })}

</script>


</body>
</html>
